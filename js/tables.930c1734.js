"use strict";(self["webpackChunkcoffe_management_system"]=self["webpackChunkcoffe_management_system"]||[]).push([[930],{5225:function(t,e,s){s.d(e,{Z:function(){return b}});var a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("modal-box",{attrs:{"is-active":t.isModalActive,"trash-object-name":t.trashObject?t.trashObject.name:null},on:{confirm:t.trashConfirm,cancel:t.trashCancel}}),e("b-table",{attrs:{paginated:t.paginated,"per-page":t.perPage,data:t.items,"default-sort":"name",striped:"",hoverable:""}},[e("b-table-column",{attrs:{label:"ID",field:"id",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}])}),e("b-table-column",{attrs:{label:"Tên",field:"name",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" ")]}}])}),e("b-table-column",{attrs:{label:"Danh mục",field:"phone",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.categoryName)+" ")]}}])}),e("b-table-column",{attrs:{label:"Giá",field:"point",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.price)+" ")]}}])}),e("b-table-column",{attrs:{label:"Ngày tạo"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("small",{staticClass:"has-text-grey is-abbr-like",attrs:{title:s.row.createTime}},[t._v(t._s(s.row.createTime.split("T")[0]+" "+s.row.createTime.split("T")[1].split(".")[0]))])]}}])}),e("b-table-column",{attrs:{"custom-key":"actions","cell-class":"is-actions-cell"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("div",{staticClass:"buttons is-right no-wrap"},[e("b-button",{attrs:{size:"is-small",type:"is-info"},on:{click:function(e){return t.detail(s.row.id)}}},[e("b-icon",{attrs:{icon:"account-edit",size:"is-small"}})],1),e("b-button",{attrs:{size:"is-small",type:"is-danger"},on:{click:function(e){return t.openDialogDelete(s.row.id)}}},[e("b-icon",{attrs:{icon:"trash-can",size:"is-small"}})],1)],1)]}}])}),e("section",{staticClass:"section",attrs:{slot:"empty"},slot:"empty"},[e("div",{staticClass:"content has-text-grey has-text-centered"},[e("p",[e("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),e("p",[t._v("Không có dữ liệu…")])])])],1),t.myModel?e("transition",{attrs:{name:"modal"}},[e("div",{staticClass:"modal-mask-item"},[e("card-component",{staticClass:"modal-item",attrs:{icon:"ballot",title:"Thông tin"}},[e("form",{on:{submit:function(e){return e.preventDefault(),t.formAction.apply(null,arguments)}}},[e("b-field",{attrs:{horizontal:"",label:"Tên"}},[e("b-field",[e("b-input",{attrs:{icon:"account",name:"name",placeholder:"Tên",required:""},model:{value:t.item.name,callback:function(e){t.$set(t.item,"name",e)},expression:"item.name"}})],1)],1),e("b-field",{attrs:{horizontal:"",label:"Loại đồ uống"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:t.item.categoryId,expression:"item.categoryId"}],staticStyle:{width:"30%",height:"30px"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.item,"categoryId",e.target.multiple?s:s[0])}}},t._l(t.categories,(function(s){return e("option",{key:s.id,domProps:{value:s.id}},[t._v(" "+t._s(s.name)+" ")])})),0)]),e("b-field",{attrs:{horizontal:"",label:"Giá"}},[e("b-field",[e("b-input",{attrs:{icon:"account",name:"price",type:"number",min:"0",placeholder:"Giá",required:""},model:{value:t.item.price,callback:function(e){t.$set(t.item,"price",e)},expression:"item.price"}})],1)],1)],1),e("b-notification",{attrs:{"aria-close-label":"Close notification","auto-close":"",type:"is-danger"},model:{value:t.isActive,callback:function(e){t.isActive=e},expression:"isActive"}},[t._v(" Vui lòng điền đẩy đủ thông tin ")]),e("div",{staticClass:"group-btn-item"},[e("b-button",{staticStyle:{"margin-right":"10px"},on:{click:function(e){t.myModel=!1}}},[t._v("Hủy")]),e("b-button",{attrs:{type:"is-info"},on:{click:t.submit}},[t._v("Lưu")])],1)],1)],1)]):t._e()],1)},i=[],n=(s(7658),s(144)),o=s(2361),r=s(2248),c=s(9669),l=s.n(c),h=s(6125),u=(0,n.aZ)({name:"ItemsTable",components:{ModalBox:o.Z,CardComponent:r.Z},props:{checkable:Boolean,isEmpty:Boolean,perPage:{type:Number,default:10}},data(){return{checkedRows:[],isModalActive:!1,trashObject:null,isActive:!1,myModel:!1,categories:[],selected:"",items:[],item:{id:"",name:"",categoryId:"",categoryName:"",price:"",createTime:""},storeId:"",instance:"",isCard:!1,isComponentModalActive:!1}},mounted(){const t=h._,e=`${t}`;this.instance=l().create({baseURL:e}),this.instance.interceptors.request.use((t=>{const e=localStorage.getItem("token");return e&&(t.headers["Authorization"]=`Bearer ${e}`),t}),(t=>Promise.reject(t))),this.loadItems(),this.loadCategories(),this.$root.$on("reloadItem",(()=>{this.loadItems()}))},computed:{paginated(){return this.items.length>this.perPage}},methods:{loadItems(){this.instance.get("/item/list").then((t=>{this.items=t.data.content})).catch((t=>{this.error.push(t)}))},loadCategories(){this.instance.get("/category/list").then((t=>{this.categories=t.data.data,this.selected=this.categories[0]})).catch((t=>{this.error.push(t)}))},detail(t){this.myModel=!0,this.instance.get("item/detail/"+t).then((t=>{this.item=t.data.data})).catch((t=>{this.error.push(t)}))},openDialogDelete(t){this.$buefy.dialog.confirm({title:"Xóa đồ uống",message:"Bạn chắc chắn <b>xóa</b> chứ ?",confirmText:"Xóa",cancelText:"Hủy",type:"is-danger",hasIcon:!0,onConfirm:()=>this.confirmDelete(t)})},confirmDelete(t){this.instance.delete("item/"+t).then((t=>{1e3===t.data.status.code&&(this.loadItems(),this.$buefy.toast.open({message:"Xóa thành công",type:"is-success"}))})).catch((t=>{this.error.push(t)}))},submit(){!0===this.checkForm()?this.pause():this.instance.post("/item/save",this.item).then((t=>{1e3===t.data.status.code&&(this.myModel=!1,this.loadItems(),this.$buefy.toast.open({message:"Lưu thành công",type:"is-success"}))}))},pause(){this.$buefy.notification.open({message:"Vui lòng điền đầy đủ thông tin",type:"is-danger",pauseOnHover:!0})},checkForm(){if(""===this.item.name||""===this.item.price||""===this.item.categoryId)return!0},trashModalOpen(t){this.trashObject=t,this.isModalActive=!0},trashConfirm(){this.isModalActive=!1,this.$buefy.snackbar.open({message:"Confirmed",queue:!1})},trashCancel(){this.isModalActive=!1}}}),d=u,m=s(1001),p=(0,m.Z)(d,a,i,!1,null,null,null),b=p.exports},4762:function(t,e,s){s.r(e),s.d(e,{default:function(){return I}});var a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("title-bar",{attrs:{"title-stack":t.titleStack}}),e("hero-bar",[t._v(" Bảng công ")]),e("section",{staticClass:"section is-main-section"},[e("card-component",{staticClass:"has-table has-mobile-sort-spaced",attrs:{title:"Bảng chấm công",icon:"account"}},[e("attendance-table",{attrs:{checkable:""}})],1),e("hr")],1)],1)},i=[],n=(s(7658),s(144)),o=s(6187),r=s(2248),c=s(6317),l=s(9669),h=s.n(l),u=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("modal-box",{attrs:{"is-active":t.isModalActive,"trash-object-name":t.trashObject?t.trashObject.name:null},on:{confirm:t.trashConfirm,cancel:t.trashCancel}}),e("b-table",{attrs:{paginated:t.paginated,"per-page":t.perPage,data:t.attendances,striped:"",hoverable:""}},[e("b-table-column",{attrs:{label:"Tên nhân viên",field:"name"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.name)+" ")]}}])}),e("b-table-column",{attrs:{label:"Ca làm việc",field:"shift"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.shift)+" ")]}}])}),e("b-table-column",{attrs:{label:"Ngày",field:"date"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.date.split(" ")[0])+" ")]}}])}),e("b-table-column",{attrs:{label:"Giờ đến",field:"checkin"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.checkin.split(" ")[1])+" ")]}}])}),e("b-table-column",{attrs:{label:"Giờ về",field:"checkout"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.checkout.split(" ")[1])+" ")]}}])}),e("section",{staticClass:"section",attrs:{slot:"empty"},slot:"empty"},[e("div",{staticClass:"content has-text-grey has-text-centered"},[e("p",[e("b-icon",{attrs:{icon:"emoticon-sad",size:"is-large"}})],1),e("p",[t._v("Không có dữ liệu…")])])])],1)],1)},d=[],m=s(2361),p=s(6125),b=(0,n.aZ)({name:"AttendanceTable",components:{ModalBox:m.Z},props:{checkable:Boolean,isEmpty:Boolean,perPage:{type:Number,default:10}},data(){return{checkedRows:[],isModalActive:!1,trashObject:null,isActive:!1,categories:[],selected:"",attendances:[],attendance:{id:"",name:"",categoryId:"",categoryName:"",price:"",createTime:""},storeId:"",instance:"",isCard:!1,isComponentModalActive:!1}},mounted(){const t=p._,e=`${t}`;this.instance=h().create({baseURL:e}),this.instance.interceptors.request.use((t=>{const e=localStorage.getItem("token");return e&&(t.headers["Authorization"]=`Bearer ${e}`),t}),(t=>Promise.reject(t))),this.storeId=localStorage.getItem("storeId"),this.loadAttendance(this.storeId),this.$root.$on("reloadAttendance",(t=>{this.loadAttendance(t)}))},computed:{paginated(){return this.attendances.length>this.perPage}},methods:{loadAttendance(t){this.instance.get("/employee/"+t+"/attendance/list").then((t=>{this.attendances=t.data.content})).catch((t=>{this.error.push(t)}))},loadCategories(){this.instance.get("/category/list").then((t=>{this.categories=t.data.data,this.selected=this.categories[0]})).catch((t=>{this.error.push(t)}))},detail(t){this.myModel=!0,this.instance.get("item/detail/"+t).then((t=>{this.item=t.data.data})).catch((t=>{this.error.push(t)}))},openDialogDelete(t){this.$buefy.dialog.confirm({title:"Xóa đồ uống",message:"Bạn chắc chắn <b>xóa</b> chứ ?",confirmText:"Xóa",cancelText:"Hủy",type:"is-danger",hasIcon:!0,onConfirm:()=>this.confirmDelete(t)})},confirmDelete(t){this.instance.delete("item/"+t).then((t=>{1e3===t.data.status.code&&(this.loadItems(),this.$buefy.toast.open({message:"Xóa thành công",type:"is-success"}))})).catch((t=>{this.error.push(t)}))},submit(){!0===this.checkForm()?this.pause():this.instance.post("/item/save",this.item).then((t=>{1e3===t.data.status.code&&(this.myModel=!1,this.loadItems(),this.$buefy.toast.open({message:"Lưu thành công",type:"is-success"}))}))},pause(){this.$buefy.notification.open({message:"Vui lòng điền đầy đủ thông tin",type:"is-danger",pauseOnHover:!0})},checkForm(){if(""===this.item.name||""===this.item.price||""===this.item.categoryId)return!0},trashModalOpen(t){this.trashObject=t,this.isModalActive=!0},trashConfirm(){this.isModalActive=!1,this.$buefy.snackbar.open({message:"Confirmed",queue:!1})},trashCancel(){this.isModalActive=!1}}}),f=b,g=s(1001),y=(0,g.Z)(f,u,d,!1,null,null,null),v=y.exports,_=(0,n.aZ)({name:"AttendanceTableView",components:{AttendanceTable:v,HeroBar:c.Z,CardComponent:r.Z,TitleBar:o.Z},data(){return{titleStack:["Admin","Bảng chấm công"],date:new Date,employees:[],roles:[],user:{id:"",username:"",password:"",employeeId:"",role:""}}},mounted(){const t=`${p._}`;this.instance=h().create({baseURL:t}),this.instance.interceptors.request.use((t=>{const e=localStorage.getItem("token");return e&&(t.headers["Authorization"]=`Bearer ${e}`),t}),(t=>Promise.reject(t))),this.storeId=localStorage.getItem("storeId"),this.loadEmployee(this.storeId),this.loadRole(),this.user.employeeId=this.employees[0].id,this.user.role=this.roles[0].name},methods:{loadEmployee(t){this.instance.get("/employee/"+t+"/list").then((t=>{this.employees=t.data.content})).catch((t=>{this.error.push(t)}))},loadRole(){this.instance.get("/role/list").then((t=>{this.roles=t.data})).catch((t=>{this.error.push(t)}))},submit(){this.checkForm()?this.pause():this.instance.post("/user/save",this.user).then((t=>{1e3===t.data.status.code&&(this.resetForm(),this.$buefy.toast.open({message:"Lưu thành công",type:"is-success"}))}))},checkForm(){if(""===this.user.username||""===this.user.password||""===this.user.employeeId||""===this.user.role)return!0},pause(){this.$buefy.notification.open({message:"Vui lòng điền đầy đủ thông tin",type:"is-danger",pauseOnHover:!0})},resetForm(){this.user.id="",this.user.username="",this.user.password="",this.user.employeeId="",this.user.role=""}}}),k=_,C=(0,g.Z)(k,a,i,!1,null,null,null),I=C.exports},4751:function(t,e,s){s.r(e),s.d(e,{default:function(){return f}});var a=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("title-bar",{attrs:{"title-stack":t.titleStack}}),e("hero-bar",[t._v(" Danh sách "),e("router-link",{staticClass:"button",attrs:{slot:"right",to:"/"},slot:"right"},[t._v(" Thông tin cửa hàng ")])],1),e("section",{staticClass:"section is-main-section"},[e("card-component",{staticClass:"has-table has-mobile-sort-spaced",attrs:{title:"Khách hàng",icon:"account-multiple"}}),e("hr"),e("card-component",{staticClass:"has-table has-mobile-sort-spaced",attrs:{title:"Nhân viên",icon:"account-multiple"}},[e("items-table",{attrs:{checkable:""}})],1),e("hr"),e("card-component",{staticClass:"has-table has-mobile-sort-spaced",attrs:{title:"Hoá đơn",icon:"account-multiple"}},[e("clients-table-sample",{attrs:{checkable:""}})],1)],1)],1)},i=[],n=s(144),o=s(5963),r=s(2896),c=s(2248),l=s(6187),h=s(6317),u=s(5225),d=(0,n.aZ)({name:"TablesView",components:{ItemsTable:u.Z,HeroBar:h.Z,TitleBar:l.Z,CardComponent:c.Z,ClientsTableSample:r.Z,NotificationBar:o.Z},data(){return{titleStack:["Admin","Tables"]}}}),m=d,p=s(1001),b=(0,p.Z)(m,a,i,!1,null,null,null),f=b.exports}}]);
//# sourceMappingURL=tables.930c1734.js.map